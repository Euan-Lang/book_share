{% extends 'bookShare/base.html' %}
{% load staticfiles %}

{% block title %}
    Browse
{% endblock %}

{% block content %}
<section id="search_box_wrapper">
    <div id="search_box">
        <form id="book_search_form" method="post" action="{% url 'bookShare:browse' %}" enctype="multipart/form-data">
            {% csrf_token %}
            <input type="submit" name="submit" value="Search">
            <input type="text" id="query_text_field" name="query_text">
        </form>
    </div>
</section>
<section id="main">
    <div id="search_sidebar">

    </div>
    <div id = "results_pane" class="" >
        {% if results %}
            {% for result in results %}
                <div class="w-5/12 shadow-lg rounded-xl p-11 my-5 ">
                    <a href = "{% url 'bookShare:book_info' result.book_id %}">
                    {% if result.cover_image %}
                            <img {% if result.is_reserved == True %} class = "w-full opacity-25" {% else %} class="w-full opacity-100" {%endif%} src = "{{ result.cover_image.url }}" alt = "{{ result.title}} by {{ result.author }}" height = "400px" width = "300px"/><br/>
                        {% else %}
                            <img {% if result.is_reserved == True %} class = "w-full opacity-25" {% else %} class="w-full opacity-100" {%endif%} src = "{% static 'images/default_book.jpg' %}" alt = "{{ result.title}} by {{ result.author }}" height = "400px" width = "300px" /><br/>
                        {% endif %}
                    </a>
                    <div class="px-6 py-4">
                        <div class="font-bold text-xl mb-2">
                            <h2><a href = "{% url 'bookShare:book_info' result.book_id %}">{{ result.title }}</a></h2>
                        </div>
                    </div>
                    <div class="px-6 pt-4 pb-2">
                        <span class="inline-block bg-slate-200 rounded-full px-3 py-1 text-sm font-semibold text-slate-700 mr-2 mb-2">{{result.author}}</span>
                        <span class="inline-block bg-slate-200 rounded-full px-3 py-1 text-sm font-semibold text-slate-700 mr-2 mb-2">{{result.genre}}</span>
                        <span class="inline-block bg-slate-200 rounded-full px-3 py-1 text-sm font-semibold text-slate-700 mr-2 mb-2">{{result.publisher}}</span>
                    </div>
                </div>
            {% endfor %}
        {% else %}
            No books found.
        {% endif %}
    </div>
</section>
{% endblock %}
